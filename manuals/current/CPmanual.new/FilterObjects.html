<html style=font-family:arial><head><title>FilterObjects</title></head><body><h1>Module: FilterObjects</h1><div><b>Filter Objects</b> eliminates objects based on their measurements (e.g., area, shape, texture, intensity). <hr> This module removes selected objects based on measurements produced by another module (e.g.,  <b>MeasureObjectSizeShape</b>, <b>MeasureObjectIntensity</b>, <b>MeasureTexture</b>, etc).  All objects that do not satisty the specified parameters will be discarded.<p><p>This module also may remove objects touching the image border or edges of a mask. This is useful if you would like to unify images via <b>ReassignObjectNumbers</b> before deciding to discard these objects.</p><p><p>Please note that the objects that pass the filtering step comprise a new object set, and hence do not inherit the measurements associated with the original objects. Any measurements on the new object set will need to be made post-filtering by the desired measurement modules.</p><p><h4>Available measurements</h4> <b>Image measurements:</b> <ul> <li><i>Count:</i> The number of objects remaining after filtering.</li> </ul> <b>Object measurements:</b> <ul> <li><i>Parent:</i> The identity of the input object associated with each filtered  object.</li> <li><i>Location_X, Location_Y:</i> The pixel (X,Y) coordinates of the center of  mass of the remaining objects.</li> </ul><p>See also any of the <b>MeasureObject</b> modules, <b>MeasureTexture</b>, <b>MeasureCorrelation</b>, and <b>CalculateRatios</b>. </div><div><h2>Settings:</h2><h4>Name the output objects</h4><div>
            Enter a name for the collection of objects that are retained after applying the filter(s).</div><h4>Select the object to filter</h4><div>
            Select the set of objects that you want to filter. This setting 
            also controls which measurement choices appear for filtering:
            you can only filter based on measurements made on the object you select.
            If you intend to use a measurement 
            calculated by the <b>CalculateMath</b> module to to filter objects, select
            the first operand's object here, because <b>CalculateMath</b> measurements
            are stored with the first operand's object.</div><h4>Select the filtering mode</h4><div>
            You can choose from the following options:
            <ul>
            <li><i>Measurements</i>: Specify a per-object measurement made by an upstream 
            module in the pipeline.</li>
            <li><i>Rules</i>: Use a file containing rules generated by CellProfiler Analyst.
            You will need to ensure that the measurements specified by the rules file are 
            produced by upstream modules in the pipeline.</li>
            <li><i>Image or mask border</i>: Remove objects touching the border of the image and/or the 
            edges of an image mask.</li>
            </ul></div><h4>Select the filtering method</h4><div>
            <i>(Used only if filtering using measurements)</i><br>
            There are five different ways to filter objects:
            <ul>
            <li><i>Limits:</i> Keep an object if its measurement value falls within a range you specify.</li> 
            <li><i>Maximal:</i> Keep the object with the maximum value for the measurement
            of interest. If multiple objects share a maximal value, retain one object 
            selected arbitrarily per image.</li>
            <li><i>Minimal:</i> Keep the object with the minimum value for the measurement
            of interest. If multiple objects share a minimal value, retain one object 
            selected arbitrarily per image.</li>
            <li><i>Maximal per object:</i> This option requires you to choose a parent object.
            The parent object might contain several child objects of
            choice (for instance, mitotic spindles within a cell or FISH
            probe spots within a nucleus). Only the child object whose measurements equal the maximum child-measurement
            value among that set of child objects will be kept 
            (for example, the longest spindle
            in each cell).  You do not have to explicitly relate objects before using this module.</li>
            <li><i>Minimal per object:</i> Same as <i>Maximal per object</i>, except filtering is based on the minimum value.</li>
            </ul></div><h4>Assign overlapping child to</h4><div>
            <i>(Used only if filtering per object)</i>
            <br>A child object can overlap two parent objects and can have
            the maximal/minimal measurement of all child objects in both parents.
            This option controls how an overlapping maximal/minimal child
            affects filtering of other children of its parents and to which
            parent the maximal child is assigned. The choices are:
            <br><ul>
            <li><i>Both parents</i>: The child will be assigned to both parents
            and all other children of both parents will be filtered. Only the
            maximal child per parent will be left, but if <b>RelateObjects</b>
            is used to relate the maximal child to its parent, one or the other
            of the overlapping parents will not have a child even though the
            excluded parent may have other child objects. The maximal child
            can still be assigned to both parents using a database join
            via the relationships table if you are using <b>ExportToDatabase</b>
            and separate object tables.</li>
            <li><i>Parent with most overlap</i>: The child will be
            assigned to the parent with the most overlap and a child with a
            less maximal/minimal measurement, if available, will be assigned
            to other parents. Use this option to ensure that parents with
            an alternate non-overlapping child object are assigned some child
            object by a subseequent <b>RelateObjects</b> module.</li></ul>
            </div><h4>Rules file location</h4><div>
            <i>(Used only when filtering using Rules)</i>
            <br>
            Select the location of the rules file that will be used for filtering.
            
You can choose among the following options which are common to all file input/output 
modules:
<ul>
<li><i>Default Input Folder</i>: Use the default input folder.</li>
<li><i>Default Output Folder:</i> Use from the default output folder.</li>
<li><i>Elsewhere...</i>: Use a particular folder you specify.</li>
<li><i>Default input directory sub-folder</i>: Enter the name of a subfolder of 
the default input folder or a path that starts from the default input folder.</li>
<li><i>Default output directory sub-folder</i>: Enter the name of a subfolder of 
the default output folder or a path that starts from the default output folder.</li>
</ul>
<p><i>Elsewhere</i> and the two sub-folder options all require you to enter an additional 
path name. You can use an <i>absolute path</i> (such as "C:\imagedir\image.tif" on a PC) or a 
<i>relative path</i> to specify the file location relative to a directory):
<ul>
<li>Use one period to represent the current directory. For example, if you choose 
<i>Default Input Folder sub-folder</i>, you can enter "./MyFiles" to look in a 
folder called "MyFiles" that is contained within the Default Input Folder.</li>
<li>Use two periods ".." to move up one folder level. For example, if you choose 
<i>Default Input Folder sub-folder</i>, you can enter "../MyFolder" to look in a 
folder called "MyFolder" at the same level as the Default Input Folder.</li>
</ul></p>
</div><h4>Rules file name</h4><div>
            <i>(Used only when filtering using Rules)</i><br>
            The name of the rules file. This file should be a plain text
            file containing the complete set of rules.
            <p>Each line of
            this file should be a rule naming a measurement to be made
            on the object you selected, for instance:
            <pre>IF (Nuclei_AreaShape_Area &lt; 351.3, [0.79, -0.79], [-0.94, 0.94])</pre>
            <br><br>
            The above rule will score +0.79 for the positive category and -0.94
            for the negative category for nuclei whose area is less than 351.3 
            pixels and will score the opposite for nuclei whose area is larger.
            The filter adds positive and negative and keeps only objects whose
            positive score is higher than the negative score.</p></div><h4>Class number</h4><div>
            <i>(Used only when filtering using Rules)</i><br>
            Select which of the classes to keep when filtering. The
            CellProfiler Analyst classifier user interface lists the names of 
            the classes in left-to-right order. <b>FilterObjects</b> uses the
            first class from CellProfiler Analyst if you choose "1", etc.
            <p>Please note the following:
            <ul>
            <li>The object is retained if the object falls into the selected class.</li>
            <li>You can make multiple class selections. If you do so, the module
            will retain the object if the object falls into any of the selected classes.</li>
            </ul></p></div><h4>Select the objects that contain the filtered objects</h4><div>
            <i>(Used only if a per-object filtering method is selected)</i><br>
            This setting selects the container (i.e., parent) objects for the <i>Maximal per object</i> 
            and <i>Minimal per object</i> filtering choices.</div><h4>Retain outlines of the identified objects?</h4><div>
            Select <i>Yes</i> to retain the outlines of the new objects 
for later use in the pipeline. For example, a common use is for quality control purposes by 
overlaying them on your image of choice using the <b>OverlayOutlines</b> module and then saving 
the overlay image with the <b>SaveImages</b> module.</div><h4>Name the outline image</h4><div>
            <i>(Used only if the outline image is to be retained for later use in the pipeline)</i> <br>
            
<i>(Used only if the outline image is to be retained for later use in the pipeline)</i> <br>
Enter a name for the outlines of the identified 
objects. The outlined image can be selected in downstream modules by selecting 
them from any drop-down image list.</div></div></body></html>