<html style=font-family:arial><head><title>Smooth</title></head><body><h1>Module: Smooth</h1><div><b>Smooth</b> smooths (i.e., blurs) images. <hr> This module allows you to smooth (blur) images, which can be helpful to  remove artifacts of a particular size.  Note that smoothing can be a time-consuming process.  </div><div><h2>Settings:</h2><h4>Select smoothing method</h4><div>
            This module smooths images using one of several filters. 
            Fitting a polynomial
            is fastest but does not allow a very tight fit compared to the other methods:
            <ul>
            <li><i>Fit Polynomial:</i> This method treats the intensity of the image pixels
            as a polynomial function of the x and y position of
            each pixel. It fits the intensity to the polynomial,
            <i>A x<sup>2</sup> + B y<sup>2</sup> + C xy + D x + E y + F</i>.
            This will produce a smoothed image with a single peak or trough of intensity 
            that tapers off elsewhere in the image. For many microscopy images (where 
            the illumination of the lamp is brightest in the center of field of view), 
            this method will produce an image with a bright central region and dimmer 
            edges. But, in some cases the peak/trough of the polynomial may actually 
            occur outside of the image itself.</li>
            <li><i>Gaussian Filter:</i> This method convolves the image with a Gaussian whose
            full width at half maximum is the artifact diameter entered.
            Its effect is to blur and obscure features
            smaller than the artifact diameter and spread bright or
            dim features larger than the artifact diameter.</li>
            <li><i>Median Filter:</i> This method finds the median pixel value within the
            artifact diameter you specify. It removes bright or dim features that are much smaller
            than the artifact diameter.</li>
            <li><i>Smooth Keeping Edges:</i> This method uses a bilateral filter which
            limits Gaussian smoothing across an edge while 
            applying smoothing perpendicular to an edge. The effect
            is to respect edges in an image while smoothing other
            features. <i>Smooth Keeping Edges</i> will filter an image with reasonable
            speed for artifact diameters greater than 10 and for
            intensity differences greater than 0.1. The algorithm
            will consume more memory and operate more slowly as
            you lower these numbers.</li>
            <li><i>Circular Average Filter:</i> This method convolves the image with
            a uniform circular averaging filter whose size is the artifact diameter entered. This filter is
            useful for re-creating an out-of-focus blur to an image.</li>
            <li><i>Smooth to Average:</i> Creates a flat, smooth image where every pixel 
            of the image equals the average value of the original image.</li>
            </ul></div><h4>Calculate artifact diameter automatically?</h4><div>
            <i>(Used only if "Gaussian Filter", "Median Filter", "Smooth Keeping Edges" or "Circular Average Filter" is selected)</i><br>
            Select <i>Yes</i> to choose an artifact diameter based on
            the size of the image. The minimum size it will choose is 30 pixels,
            otherwise the size is 1/40 of the size of the image.
            <p>Select <i>Yes</i> to manually enter an artifact diameter.</p></div><h4>Typical artifact diameter</h4><div>
            <i>(Used only if choosing the artifact diameter automatically is set to "No")</i><br>
            Enter the approximate diameter (in pixels) of the features to be blurred by
            the smoothing algorithm. This value is used to calculate the size of 
            the spatial filter. To measure distances in an open image, use the "Measure
length" tool under <i>Tools</i> in the display window menu bar. If you click on an image 
and drag, a line will appear between the two endpoints, and the distance between them shown at the right-most
portion of the bottom panel.
            For most smoothing methods, selecting a
            diameter over ~50 will take substantial amounts of time to process.</div><h4>Edge intensity difference</h4><div>
            <i>(Used only if "Smooth Keeping Edges" is selected)</i><br>
            Enter the intensity step (which indicates an edge in an image) that you want to preserve.
            Edges are locations where the intensity changes precipitously, so this
            setting is used to adjust the rough magnitude of these changes. A lower
            number will preserve weaker edges. A higher number will preserve only stronger edges.
            Values should be between zero and one. To view pixel intensities in an open image, use the 
pixel intensity tool which is available in any open display window. When you move 
your mouse over the image, the pixel intensities will appear in the bottom bar of the display window.</div><h4>Clip intensities to 0 and 1?</h4><div>
            <i>(Used only if Fit Polynomial is selected)</i><br>
            The <i>Fit Polynomial</i> method is the only smoothing option that can yield
            an output image whose values are outside of the values of the
            input image. This setting controls whether to limit the image
            intensity to the 0 - 1 range used by CellProfiler. 
            <p>Select <i>Yes</i> to set all output image pixels less than zero to zero
            and all pixels greater than one to one. </p>
            <p>Select <i>No</i> to
            allow values less than zero and greater than one in the output
            image.</p></div></div></body></html>