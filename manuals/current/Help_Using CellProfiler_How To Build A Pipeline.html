<html style=font-family:arial><head><title>How To Build A Pipeline</title></head>
<body><h1>How To Build A Pipeline</h1>
<div>

<p>A <i>pipeline</i> is a sequential set of image analysis modules. The 
best way to learn how to use CellProfiler is to load an example pipeline 
from the CellProfiler website's Examples page and try it out, then adapt it for your own images. You can also build a 
pipeline from scratch. Click the <i>Help</i> <img src="images\module_help.png"></img> button in the main window to get
help for a specific module.</p>

<p>To adjust the CellProfiler source code, see <i>Help > Developer's Guide</i>. 
</p>

<h3>Loading an existing pipeline</h3>
<ol>
<li>Put the images and pipeline into a folder on your computer.</li>
<li> Set the Default Input and Output Folders (lower right of the main 
window) to be the folder where you put the images.</li> 
<li>Load the pipeline using <i>File > Load Pipeline</i> in the main menu of 
CellProfiler.</li> 
<li>Click <i>Analyze images</i> to start processing.</li> 
<li>Examine the measurements using <i>Data tools</i>. The <i>Data tools</i> options are accessible in 
the main menu of CellProfiler and allow you to plot, view, or export your 
measurements (e.g., to Excel).</li>   
<li>If you modify the modules or settings in the pipeline, you can save the 
pipeline using <i>File > Save Pipeline.</i></li>
<li>To learn how to use a cluster of computers to process 
large batches of images, see <i>Help > Using CellProfiler > Other Features > Batch Processing</i>.</li>
</ol>

<h3>Building a pipeline from scratch</h3>
<p>Constructing a pipeline involves placing individual modules into a pipeline. The list
of modules in the pipeline is shown in the <i>pipeline panel</i> (located on the 
left-hand side of the CellProfiler window).</p>
<ol>
<li><p><i>Place modules in a new pipeline.</i><br>
Choose image analysis modules to add to your pipeline by clicking the <i>Add</i> 
<img src="images\module_add.png"></img> button
(located underneath the pipeline panel) or right-clicking in the pipeline panel
itself and selecting a module from the 
pop-up box that appears. You can learn more about each module by clicking
<i>Module Help</i> in the "Add modules" window or the <i>?</i> button after the module has been placed and selected
in the pipeline. Modules are added to the end of the pipeline, but you can
adjust their order in the main window by dragging and dropping them, or by selecting a module (or
modules, using the <i>Shift</i> key) and using the <i>Move up</i> 
<img src="images\module_moveup.png"></img> and <i>Move down</i> 
<img src="images\module_movedown.png"></img> buttons. 
The <i>Remove</i> <img src="images\module_remove.png"></img> button will delete the selected 
module(s) from the pipeline.</p> 
<p>Typically, the first module you must run is 
 <b>LoadImages</b>, in which you specify the identity of the images 
you want to analyze. </p>
<p>Most pipelines depend on one major step: identifying the objects. In 
CellProfiler, the objects you identify are called <i>primary</i>, 
<i>secondary</i>, or <i>tertiary</i>:
<ul>
<li><b>IdentifyPrimary</b> modules identify objects without relying on any 
information other than a single grayscale input image (e.g., nuclei are 
typically primary objects).</li>
<li><b>IdentifySecondary</b> modules require a grayscale image plus an image 
where primary objects have already been identified, because the secondary 
objects are determined based on the primary objects (e.g., cells can be 
secondary objects when their identification is based on the location of nuclei). </li>
<li><b>IdentifyTertiary</b> modules require images in which two sets of objects have 
already been identified (e.g., nuclei and cell regions are used to define the 
cytoplasm objects, which are tertiary objects).</li>
</ul></p>
<p><i>Saving images in your pipeline:</i> Due to the typically high number 
of intermediate images produced during processing, images produced during 
processing are not saved to the hard drive unless you specifically request it, 
using a <b>SaveImages</b> module.</p>
<p><i>Saving data in your pipeline:</i> All measurements will be stored in the CellProfiler-formatted
output file, but you can include an <b>Export</b> module to automatically export
data in a format you prefer.</p></li> 

<li><p><i>Adjust the settings in each module.</i><br>
In the CellProfiler main window, click a module in the pipeline to see its 
settings in the main workspace. To learn more about the settings for each 
module, select the module in the pipeline and click the <i>Help</i> button to the 
right of each setting, or at the bottom of the pipeline panel
for the help for all the settings for that module.</p>
<p>If there is an error with the settings (e.g., a setting refers to an image 
that doesn't exist yet), 
a <img src="images\IMG_ERROR.png"></img>  icon will appear next to the 
module name. If there is a warning (e.g., a special notification attached to a choice of setting), 
a <img src="images\IMG_WARN.png"></img>  icon will appear. Errors
will cause the pipeline to fail upon running, whereas a warning will not. Once 
the errors/warnings have been resolved, a <img src="images\IMG_OK.png">
</img>  icon will appear indicating that the module is ready to run.</p>
</li>
<li><p><i>Set your Default Input Folder, Default Output Folder and output filename.</i><br>
For more help, click their nearby <i>Help</i> buttons in the main window. </p></li>

<li><p><i>Click <i>Analyze images</i> to start processing.</i><br> 
All of the images in your selected folder(s) will be analyzed using the modules 
and settings you have specified. A status window will appear which has the following:
<ul>
<li>A <i>progress bar</i> which gives the elapsed time and estimates the time remaining to 
process the full image set.</li>
<li>A <i>pause button</i> <img src="images\status_pause.png"></img> 
which pauses execution and allows you to subsequently 
resume the analysis.
<li>A <i>stop button</i> <img src="images\status_stop.png"></img> 
which cancels execution after prompting you for a place to
save the measurements collected to that point.</li>
<li>A <i>save measurements</i> button <img src="images\status_save.png"></img> 
which will prompt you for a place to
save the measurements collected to that point while continuing the analysis run.</li>
</ul> 
At the end of each cycle, CellProfiler saves the measurements in the output file.</p></li>

<li><p><i>Use Test mode to preview results.</i><br>
You can optimize your pipeline by selecting the <i>Test</i> option from 
the main menu. Test mode allows you to run the pipeline on a selected
image, preview the results, and adjust the module settings on the fly. See 
<i>Help > Using CellProfiler > Testing Your Pipeline</i> for more details.</p>
</li>
<li><p>Save your pipeline via <i>File > Save Pipeline</i>.</p>
</li>
</ol>
</div></body>
