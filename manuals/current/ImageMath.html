<html style=font-family:arial><head><title>ImageMath</title></head><body><h1>Module: ImageMath</h1><div><b>Image Math</b> performs simple mathematical operations on image intensities. <hr> This module can perform addition, subtraction, multiplication, division, or averaging of two or more image intensities, as well as inversion, log transform, or scaling by  a constant for individual image intensities.<p><p>Keep in mind that after the requested operations are carried out, the final image  may have a substantially different range of pixel intensities than the original. CellProfiler assumes that the image is scaled from 0 &ndash; 1 for object identification and  display purposes, so additional rescaling may be needed. Please see the  <b>RescaleIntensity</b> module for more scaling options.</p><p>See also <b>ApplyThreshold</b>, <b>RescaleIntensity</b>, <b>CorrectIlluminationCalculate</b>. </div><div><h2>Settings:</h2><h4>Operation</h4><div>
            Select the operation to perform. Note that if more than two images are chosen, 
            then operations will be performed sequentially from first to last, e.g., 
            for "Divide", (Image1 / Image2) / Image3
            <ul>
            <li><i>Add:</i> Adds the first image to the second, and so on.</li>
            <li><i>Subtract:</i> Subtracts the second image from the first.</li>
            <li><i>Absolute Difference:</i> The absolute value of the difference between the first and second images.</li>
            <li><i>Multiply:</i> Multiplies the first image by the second.</li>
            <li><i>Divide:</i> Divides the first image by the second.</li>
            <li><i>Average</i> Calculates the mean intensity of the images loaded in the module.  
            This is equivalent to the Add option divided by the number of images loaded 
            by this module.  If you would like to average all of the images in 
            an entire pipeline, i.e., across cycles, you should instead use the <b>CorrectIlluminationCalculate</b> module 
            and choose the <i>All</i> (vs. <i>Each</i>) option.</li>
            <li><i>Maximum:</i> Returns the element-wise maximum value at each pixel location.</li>   
            <li><i>Invert:</i> Subtracts the image intensities from 1. This makes the darkest
            color the brightest and vice-versa.</li>
            <li><i>Log transform (base 2)</i> Log transforms each pixel's intensity. 
            The actual function is log<sub>2</sub>(image + 1), transforming values from 0 to 1 into values from 0 to 1.</li>
            <li><i>Log transform (legacy)</i> Log<sub>2</sub> transform for backwards compatibility.</li>
            <li><i>None</i> This option is useful if you simply want to select some of the later 
            options in the module, such as adding, multiplying, or exponentiating your image by a constant.</li>
            </ul> 
            <p>Note that <i>Invert</i>, <i>Log transform (base 2)</i>, and <i>None</i> operate on only a single image.</p>
            </div><h4>Name the output image</h4><div>
            Enter a name for the resulting image.</div><h4>Image or measurement?</h4><div>
            You can perform math operations using two images or you
            can use a measurement for one of the operands. For instance,
            to divide the intensity of one image by another, choose <i>Image</i>
            for both and pick the respective images. To divide the intensity
            of an image by its median intensity, use <b>MeasureImageIntensity</b>
            prior to this module to calculate the median intensity, then
            select <i>Measurement</i> and use the median intensity measurement as
            the denominator</div><h4></h4><div>
            Selec the image that you want to use for this operation.</div><h4>Measurement</h4><div>
            This is a measurement made on the image. The value of the
            measurement is used for the operand for all of the pixels of the
            other operand's image.</div><h4></h4><div>
            Enter the number that you would like to multiply the above image by. This multiplication
            is applied before other operations.</div><h4>Raise the power of the result by</h4><div>
            Enter an exponent to raise the result to *after* the chosen operation</div><h4>Multiply the result by</h4><div>
            Enter a factor to multiply the result by *after* the chosen operation</div><h4>Add to result</h4><div>
            Enter a number to add to the result *after* the chosen operation</div><h4>Set values less than 0 equal to 0?</h4><div>
            Values outside the range 0 to 1 might not be handled well by other modules. 
            Select <i>Yes</i> to set negative values to 0.</div><h4>Set values greater than 1 equal to 1?</h4><div>
            Values outside the range 0 to 1 might not be handled well by other modules. 
            Select <i>Yes</i> to set values greater than 1 to a maximum value of 1.</div><h4>Ignore the image masks?</h4><div>
            Usually, the smallest mask of all image operands is applied after 
            image math has been completed. Select <i>Yes</i> to set 
            equal to zero all previously masked pixels and operate on the masked 
            images as if no mask had been applied.</div></div></body></html>